data = [{ 
    id:'0C',
    name:'Para Comer', 
    key:'Comer', 
    image:'assets/images/IconComida-White.png',
    image2:'assets/images/IconComida-Orange.png',
        itens:[{ 
            id:'01',
            name:'Porções', 
            products:[{
                id:'150',
                name:'Porção Camarão Paulista', 
                price:90, 
                img:'assets/images/produtos/camaraopaulista.png',
                quantidade:0,
            },{
                id:'151',
                name:'Porção Camarão Dorê', 
                price:75, 
                img:'assets/images/produtos/camaraodore.png',
                quantidade:0,


                
            },{
                id:'152',
                name:'Porção Lula Dorê', 
                price:80,
                img:'assets/images/produtos/luladore.png',
                quantidade:0,


            },{
                id:'153',
                name:'Porção Peixe Tilápia', 
                img:'assets/images/produtos/tilapia.png',

                price:65,
                quantidade:0,


            },{
                id:'154',
                name:'Porção Peixe Cação', 
                img:'assets/images/produtos/cacao.png',

                price:65,
                quantidade:0,


            },{
                id:'155',
                name:'Porção Peixe Pescada', 
                img:'assets/images/produtos/pescada.png', 
                price:65,
                quantidade:0,


            },{
                id:'156',
                name:'Porção Peixe Merluza', 
                img:'assets/images/produtos/merluza.png', 
                price:65,
                quantidade:0,


            },{
                id:'158',
                name:'Porção Peixe Porquinho', 
                img:'assets/images/produtos/porquinho.png', 
                price:65,
                quantidade:0,


            },{
                id:'159',
                name:'Fritas', 
                img:'assets/images/produtos/fritas.png', 

                price:35,
                quantidade:0,


            },{
                id:'160',
                name:'Fritas com Queijo', 
                img:'assets/images/produtos/fritasqueijo.png', 

                price:40,
                quantidade:0,


            },{
                id:'161',
                name:'Porção Mandioca', 
                img:'assets/images/produtos/mandioca.png', 

                price:35,
                quantidade:0,


            },{
                id:'162',
                name:'Porção Mandioca com Queijo', 
                img:'assets/images/produtos/mandiocaqueijo.png', 

                price:40,
                quantidade:0,


            },{
                id:'164',
                name:'Porção Calabresa', 
                img:'assets/images/produtos/calabresa.png', 

                price:50,
                quantidade:0,


            },{
                id:'171',
                name:'Molho Extra', 
                img:'assets/images/produtos/molhoextra.png', 

                price:3, 
                quantidade:0,


            },{
                id:'172',
                name:'Pão Extra', 
                img:'assets/images/produtos/paoextra.png', 

                price:3, 
                quantidade:0,


            }
        ]
        },{ 
            id:'02',
            name:'Lanches',
            products:[{
                id:'112',
                name:'Hot Dog', 
                img:'assets/images/produtos/hotdog.png',  
                price:20,
                quantidade:0, 
            } 
        ]
        },{ 
            id:'03',
            name:'Pastéis',
            products:[{
                id:'90',
                name:'Pastel Carne ', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:13,
                quantidade:0,
            },{
                id:'91',
                name:'Pastel Queijo', 
                img:'assets/images/produtos/pastelqueijo.png',  

                price:12,
                quantidade:0,
            },{
                id:'92',
                name:'Pastel Bauru', 
                img:'assets/images/produtos/pastelbauru.png',  

                price:12,
                quantidade:0,
            },{
                id:'93',
                name:'Pastel Calabresa', 
                img:'assets/images/produtos/pastelcalabresa.png',  

                price:12,
                quantidade:0,
            },{
                id:'94',
                name:'Pastel Frango', 
                img:'assets/images/produtos/pastelfrango.png',  

                price:12,
                quantidade:0,
            },{
                id:'95',
                name:'Pastel Pizza', 
                img:'assets/images/produtos/pastelpizza.png',  

                price:12,
                quantidade:0,
            },{
                id:'96',
                name:'Pastel Brócolis', 
                img:'assets/images/produtos/pastelbrocolis.png',  

                price:12,
                quantidade:0,
            },{
                id:'98',
                name:'Pastel Carne com Queijo', 
                img:'assets/images/produtos/pastelcarnequeijo.png',  

                price:15,
                quantidade:0,
            },{
                id:'14',
                name:'Pastel Brócolis com Queijo', 
                img:'assets/images/produtos/pastelbrocolisqueijo.png',  

                price:14,
                quantidade:0,
            },{
                id:'100',
                name:'Pastel Frango com Catupiry', 
                price:14,
                quantidade:0,
            },{
                id:'101',
                name:'Pastel Palmito', 
                price:12,
                quantidade:0,
            },{
                id:'101',
                name:'Pastel Camarão', 
                price:16,
                quantidade:0,
            }
        ]
        } ,{  
            id:'04',
            name:'Pastéis Doces',
            products:[{
                id:'103',
                name:'Pastel Banana com Nutella', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:12,
                quantidade:0,
            },{
                id:'104',
                name:'Pastel Chocolate com Nutella', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:14,
                quantidade:0,
            },{
                id:'105',
                name:'Pastel Chocolate com Banana', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:15,
                quantidade:0,
            },{
                id:'106',
                name:'Pastel Chocolate com Morango', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:15,
                quantidade:0,
            },{
                id:'107',
                name:'Pastel Leite Condensado c/ Coco', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:14,
                quantidade:0,
            },{
                id:'108',
                name:'Pastel Nutella com Morango', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'109',
                name:'Pastel Nutella com Banana', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            }       
        ]
        } ,{  
            id:'05',
            name:'Tapiocas',
            products:[{
                id:'60',
                name:'Tapioca Carne', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'61',
                name:'Tapioca Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'62',
                name:'Tapioca Bauru', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'63',
                name:'Tapioca Frango', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'64',
                name:'Tapioca Pizza', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'65',
                name:'Tapioca Brócolis', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'67',
                name:'Tapioca Carne com Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            },{
                id:'68',
                name:'Tapioca Brócolis com Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            },{
                id:'69',
                name:'Tapioca Frango com Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            },{
                id:'70',
                name:'Tapioca Palmito', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'71',
                name:'Tapioca Camarão', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            }       
        ]
        } ,{  
            id:'06',
            name:'Tapiocas Doces',
            products:[{
                id:'72',
                name:'Tapioca Banana com Canela', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:14,
                quantidade:0,
            },{
                id:'73',
                name:'Tapioca Chocolate / Nutella', 
                img:'assets/images/produtos/pastelcarne.png',  
                price:16,
                quantidade:0,
            },{
                id:'74',
                name:'Tapioca Chocolate com Banana', 
                img:'assets/images/produtos/pastelcarne.png',  
                price:17,
                quantidade:0,
            },{
                id:'75',
                name:'Tapioca Chocolate com Morango', 
                img:'assets/images/produtos/pastelcarne.png',  
                price:17,
                quantidade:0,
            },{
                id:'76',
                name:'Tapioca Leite Condensado c/ Coco', 
                img:'assets/images/produtos/pastelcarne.png',  
                price:18,
                quantidade:0,
            },{
                id:'77',
                name:'Tapioca Nutella com Morango', 
                img:'assets/images/produtos/pastelcarne.png',  
                price:17,
                quantidade:0,
            },{
                id:'78',
                name:'Tapioca Nutella com Banana', 
                img:'assets/images/produtos/pastelcarne.png',  
                price:18,
                quantidade:0,
            }       
        ]
        },{  
            id:'07',
            name:'Panquecas',
            products:[{
                id:'30',
                name:'Panqueca Carne', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'31',
                name:'Panqueca Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:14,
                quantidade:0,
            },{
                id:'32',
                name:'Panqueca Bauru', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'33',
                name:'Panqueca Frango', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'34',
                name:'Panqueca Pizza', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'37',
                name:'Panqueca Carne com Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            },{
                id:'38',
                name:'Panqueca Brócolis com Queijo', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            },{
                id:'39',
                name:'Panqueca Frango com Catupiry', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            },{
                id:'40',
                name:'Panqueca Palmito', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:16,
                quantidade:0,
            },{
                id:'41',
                name:'Panqueca Camarão', 
                img:'assets/images/produtos/pastelcarne.png',  

                price:18,
                quantidade:0,
            }       
        ]
        }

        ]
    },{ 
    id:'1C',
    name:'Para Beber', 
    key:'Beber',
    image:'assets/images/IconBebidas-White.png',
    image2:'assets/images/IconBebidas-Orange.png',

        itens:[{ 
            id:'4',
            name:'Bebidas', 
            products:[{
                id:'1',
                key:'',
                name:'Água sem Gás', 
                price:4,
                quantidade:0, 
            },{
                id:'2',
                key:'',
                name:'Água com Gás', 
                price:5,
                quantidade:0, 
            },{
                id:'3',
                key:'',
                name:'H20 Limão', 
                price:8,
                quantidade:0, 
            },{
                id:'5',
                key:'',
                name:'Refrigerante lata', 
                price:6,
                quantidade:0, 
            },{
                id:'6',
                key:'',
                name:'Refrigerante Zero lata ', 
                price:7,
                quantidade:0, 
            },{
                id:'7',
                key:'',
                name:'Schweppes', 
                price:8,
                quantidade:0, 
            },{
                id:'8',
                key:'',
                name:'Tônica', 
                price:8,
                quantidade:0, 
            },{
                id:'9',
                key:'',
                name:'Copo c/ Gelo', 
                price:5,
                quantidade:0, 
            },{
                id:'10',
                key:'',
                name:'Copo c/ Gelo e Limão', 
                price:5,
                quantidade:0, 
            }
        ]
            
        },{ 
            id:'05',
            name:'Alcoolicas',
            products:[{
                id:'130',
                name:'Cerveja Pilsen Lata', 
                price:6, 
                quantidade:0,
            }]
        },{ 
            id:'06',
            name:'Mais',
            products:[{
                id:'999',
                name:'limao', 
                price:75,
                quantidade:0, 

            } ]
        }
    
        ]
    }


]
var apiContainer=document.getElementById('api') 
var categoriesContainer=document.getElementById('categories') 


 getApi=(container)=>{
    container.innerHTML =` <div class="tab"> </div>`;
    data.map((apiData)=>{ 
         
        container.childNodes[1].innerHTML += ` 

            <button key="`+apiData.id+`" class="tablinks" onclick="openCity(event, '`+apiData.id +`')">
                <img class="img1" src=" `+apiData.image +`" alt="">
                <img class="img2"  src=" `+apiData.image2 +`" alt="">
                `+apiData.name +`
            </button>
          
        `;
        container.innerHTML += ` 

            <div id="`+apiData.id +`" class="tabcontent">  
            </div>
      
        `; 
        document.getElementById(apiData.id.toString()).innerHTML+= `  
        <div class="tab sub"  >
            <div class="swiper mySwiperTabs">
            <div class="swiper-wrapper" id="`+apiData.key +`" >
                
           
            
            </div>
            
            </div>
        </div>
          `; 
          
        var subs=document.getElementById(apiData.key)
       
        apiData.itens.map((itensMap)=>{        
            subs.innerHTML+= ` 
                 <div class="swiper-slide"> 
                    <button class="tablinks" onclick="openCity(event, '`+itensMap.id +`', '`+apiData.id +`')">`+itensMap.name +`</button> 
                 </div>
            `;
           
          
        }) 
        apiData.itens.map((tabContentMap)=>{ 
           
           
            document.getElementById(apiData.id.toString()).innerHTML+= ` 
               
                <div id="`+tabContentMap.id +`" class="tabcontent">  
                </div>
            `;
            var Contentsubs=document.getElementById(tabContentMap.id)
           
          innitProd=  tabContentMap.products.map((productsMap)=>{  
                    Contentsubs.innerHTML+= `  
                        <div class="produto">
                                <img src="`+productsMap.img +`" alt="" s></img>
                            <div class="prod-val">
                                <h3 class="title-prod">`+productsMap.name +`</h3> 
                                <span class="valor">`+productsMap.price.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'})+`</span>
                            </div>
                            <div class="quantidade">
                                <button key="`+productsMap.id +`" onclick="addProd(this,`+productsMap.id +`); ">+</button>
                                <input  id="`+productsMap.id +`" value="`+productsMap.quantidade +`" type="text" placeholder="0">
                                <button key="`+productsMap.id +`" onclick="removeProd(this,`+productsMap.id +`); ">-</button>
              
                            </div>
                        </div> 
                        </div>
                    `;


                if(productsMap.price==undefined){
                  

                }
   
                }) 
        }) 
     }) 
 }
  
 categoriesContainer ? getApi(categoriesContainer) : console.log("..");


 var value = 0

 removeProd=(ProdThis, inputProd)=>{ 
 
    var key=ProdThis.getAttribute('key')
    input=document.getElementById(inputProd)
     
    console.log(inputProd)

 
    data.map((apiData)=>{   
        apiData.itens.map((itensMap)=>{     
             itensMap.products.map((productsMap)=>{ 
              

              if(productsMap.id===key && productsMap.quantidade>0){

                console.log(productsMap.quantidade+"quantidade")
                productsMap.quantidade-- 
                value=productsMap.quantidade 
                input.setAttribute('value',value)
                refrashCart(inputProd)

              }
             }) 
        }) 

     }) 

    

    
  }

    
 addProd=(ProdThis, inputProd)=>{ 

    var key=ProdThis.getAttribute('key')
     
      input=document.getElementById(inputProd)
      

 
    data.map((apiData)=>{   
        apiData.itens.map((itensMap)=>{     
             itensMap.products.map((productsMap)=>{ 
        
              if(productsMap.id===key ){
                console.log(input)
                productsMap.quantidade++
                value=productsMap.quantidade 
                input.setAttribute('value',value)
              }
             }) 
        }) 

     }) 

    
     refrashCart(inputProd)

    
  }

     
 refrashCart=(inputProd)=>{ 
     

  var cartContainer = document.getElementById('cart')
  var cartPreview = document.getElementById('cartPreview')
  input =document.getElementById(inputProd)
 
  cartQtd=0
  totalCart=0
  itensTotal=0

   cartPreview.innerHTML= `<div><button id="cartPreview" onclick="showCart()"><img src="assets/images/shopping-cart.png" alt=""></button>      </div>`;  
  cartContainer.innerHTML= `<div class="content"><h2>Pedido</h2><p ><span id="itensTotal"></span>  Itens na Cesta</p></div>`;  

    data.map((apiData)=>{   
        apiData.itens.map((itensMap)=>{     
             itensMap.products.map((productsMap)=>{ 
              

              if(productsMap.quantidade>0){
                cartQtd+=productsMap.quantidade
               itensTotal+=productsMap.quantidade
                console.log(itensTotal)
                prodMultiply=productsMap.price*productsMap.quantidade
                totalCart+=prodMultiply
               
         
                cartPreview.innerHTML= `    <div >     <button id="cartPreview" onclick="showCart()"><img src="assets/images/shopping-cart.png" alt=""></button> <span class="qtdIcon">`+cartQtd +` </span>   </div>  `;  
                cartContainer.innerHTML+= `  
                
                <div class="produto">
                                <img src="`+productsMap.img +`" alt="">
                            <div class="prod-val">
                                <h3 class="title-prod"> `+productsMap.name +` </h3> 
                                <span class="valor">`+prodMultiply.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) +` </span>
                            </div>
                            <div class="quantidade">
                                     <button key="`+productsMap.id +`" onclick="addProd(this,`+productsMap.id +`); ">+</button>
                                <input  id="`+productsMap.id +`Cart" value="`+productsMap.quantidade +`" type="text" placeholder="0">
                                <button key="`+productsMap.id +`" onclick="removeProd(this,`+productsMap.id +`); ">-</button>
              
                            </div>
                            <button><img src="assets/images/trash.png" style="width: 20px; height: 21px;"></button>

                        </div>
                `;  

              
             
             }
            
             
             }) 

            
        }) 

     }) 
      
 console.log(document.getElementById("itensTotal") )
 document.getElementById("itensTotal").innerHTML+=  itensTotal
     cartContainer.innerHTML+= ` 

            <div class="controls"  > 
                <button onclick="showCart()"><i class="fa-solid fa-chevron-left"></i></button>
                <button onclick="showCart()"><i class="fa-solid fa-xmark"></i></button>  
            </div> 
             <div class="total"> 
                Total da compra
                `+totalCart.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}) +` 
                <button>Enviar Pedido agora </button> 
            </div> 
            `; 
  }

  tabcontent = document.getElementsByClassName("tabcontent");
  tablinks = document.getElementsByClassName("tablinks");
  tabcontent[0].style.cssText="display:block"
  tabcontent[1].style.cssText="display:block"
  tablinks[0].setAttribute("class", "tablinks active")
 
    console.log(tablinks)
    console.log(tabcontent)
   
         
